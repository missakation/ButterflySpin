angular.module("football.controllers").controller("profilecontroller",function(n,t,i,r,u,f,e){n.currentprofile={};f.show({content:"Loading",animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0});e(function(){t.GetProfileInfo(function(t){f.hide();n.currentprofile=t})},3e3);f.show({content:"Loading",animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0});n.tabs={Available:!1,Members:!0,Statistics:!1};n.status={Available:"none",Members:"solid",Statistics:"none"};n.switchscreens=function(t){switch(t){case 1:n.tabs.Available=!1;n.tabs.Members=!1;n.tabs.Statistics=!1;n.tabs.Available=!0;n.status.Available="none";n.status.Members="none";n.status.Statistics="none";n.status.Available="solid";break;case 2:n.tabs.Available=!1;n.tabs.Members=!1;n.tabs.Statistics=!1;n.tabs.Statistics=!0;n.status.Available="none";n.status.Members="none";n.status.Statistics="none";n.status.Statistics="solid";break;case 3:n.tabs.Available=!1;n.tabs.Members=!1;n.tabs.Statistics=!1;n.tabs.Members=!0;n.status.Available="none";n.status.Members="none";n.status.Statistics="none";n.status.Members="solid"}};n.goupdate=function(){r.go("app.selfprofileedit",{myprofile:n.currentprofile})};n.gogamedetails=function(n){r.go("app.gamedetails",{gameid:n})}}).controller("ProfileEditController",function(n,t,i,r,u,f,e,o,s,e,f){t.currentprofile=f.params.myprofile;t.slider1={minValue:7,maxValue:23,options:{floor:0,showSelectionBar:!0,readOnly:!0,disabled:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};t.slider2={minValue:7,maxValue:23,options:{floor:0,showSelectionBar:!0,readOnly:!0,disabled:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};t.slider3={minValue:7,maxValue:23,options:{floor:0,showSelectionBar:!0,readOnly:!0,disabled:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};t.slider4={minValue:7,maxValue:23,options:{floor:0,showSelectionBar:!0,readOnly:!0,disabled:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};t.slider5={minValue:7,maxValue:23,options:{floor:0,showSelectionBar:!0,readOnly:!0,disabled:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};t.slider6={minValue:7,maxValue:23,options:{floor:0,showSelectionBar:!0,readOnly:!0,disabled:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};t.slider7={minValue:7,maxValue:23,options:{floor:0,showSelectionBar:!0,readOnly:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,disabled:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};try{t.slider1.options.readOnly=t.currentprofile.admiadmin;t.slider1.options.disabled=t.currentprofile.admiadmin;t.slider2.options.readOnly=t.currentprofile.admiadmin;t.slider2.options.disabled=t.currentprofile.admiadmin;t.slider3.options.readOnly=t.currentprofile.admiadmin;t.slider3.options.disabled=t.currentprofile.admiadmin;t.slider4.options.readOnly=t.currentprofile.admiadmin;t.slider4.options.disabled=t.currentprofile.admiadmin;t.slider5.options.readOnly=t.currentprofile.admiadmin;t.slider5.options.disabled=t.currentprofile.admiadmin;t.slider6.options.readOnly=t.currentprofile.admiadmin;t.slider6.options.disabled=t.currentprofile.admiadmin;t.slider7.options.readOnly=t.currentprofile.admiadmin;t.slider7.options.disabled=t.currentprofile.admiadmin}catch(h){alert(h.message)}t.UpdateUser=function(n){r.UpdateProfile(n).then(function(){i.goBack()},function(n){alert(n.message)})};t.progress=0;t.uploading=!1;t.ChangePicture=function(){var n=firebase.storage().ref();window.imagePicker.getPictures(function(i){var u=i[0],s,r;alert(i[0]);var f={contentType:"image/jpeg"},e=firebase.auth().currentUser,o=e.uid;t.uploading=!0;s=[".jpg",".jpeg",".bmp",".png"];r=new FileReader;r.onloadend=function(i){var e=new Blob([i.target.result],{type:"image/jpeg"}),r=n.child("playerimages/"+o+"/"+u.name).put(e,f);r.on(firebase.storage.TaskEvent.STATE_CHANGED,function(n){t.progress=n.bytesTransferred/n.totalBytes*100;switch(n.state){case firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case firebase.storage.TaskState.RUNNING:console.log("Upload is running")}},function(n){alert(n.message);switch(n.code){}t.$apply()},function(){alert(n);var n=r.snapshot.downloadURL})};r.onerror=function(n){console.log("Failed file read: "+n.toString())};r.readAsArrayBuffer(u)},function(n){alert(n.message)})}});