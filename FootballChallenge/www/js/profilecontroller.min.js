angular.module("football.controllers").controller("profilecontroller",function(n,t,i,r,u,f,e){n.currentprofile={};f.show({content:"Loading",animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0});e(function(){t.GetProfileInfo(function(t){f.hide();n.currentprofile=t})},3e3);f.show({content:"Loading",animation:"fade-in",showBackdrop:!0,maxWidth:200,showDelay:0});n.tabs={Available:!1,Members:!0,Statistics:!1};n.status={Available:"none",Members:"solid",Statistics:"none"};n.switchscreens=function(t){switch(t){case 1:n.tabs.Available=!1;n.tabs.Members=!1;n.tabs.Statistics=!1;n.tabs.Available=!0;n.status.Available="none";n.status.Members="none";n.status.Statistics="none";n.status.Available="solid";break;case 2:n.tabs.Available=!1;n.tabs.Members=!1;n.tabs.Statistics=!1;n.tabs.Statistics=!0;n.status.Available="none";n.status.Members="none";n.status.Statistics="none";n.status.Statistics="solid";break;case 3:n.tabs.Available=!1;n.tabs.Members=!1;n.tabs.Statistics=!1;n.tabs.Members=!0;n.status.Available="none";n.status.Members="none";n.status.Statistics="none";n.status.Members="solid"}};n.goupdate=function(){r.go("app.selfprofileedit",{myprofile:n.currentprofile})};n.gogamedetails=function(n){r.go("app.gamedetails",{gameid:n})}}).controller("ProfileEditController",function(n,t,i,r,u,f,e,o,s,e,f){t.currentprofile=f.params.myprofile;t.slider1={minValue:1,maxValue:24,options:{floor:0,showSelectionBar:!0,readOnly:!0,disabled:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};t.slider2={minValue:1,maxValue:24,options:{floor:0,showSelectionBar:!0,readOnly:!0,disabled:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};t.slider3={minValue:1,maxValue:24,options:{floor:0,showSelectionBar:!0,readOnly:!0,disabled:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};t.slider4={minValue:1,maxValue:24,options:{floor:0,showSelectionBar:!0,readOnly:!0,disabled:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};t.slider5={minValue:1,maxValue:24,options:{floor:0,showSelectionBar:!0,readOnly:!0,disabled:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};t.slider6={minValue:1,maxValue:24,options:{floor:0,showSelectionBar:!0,readOnly:!0,disabled:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};t.slider7={minValue:1,maxValue:24,options:{floor:0,showSelectionBar:!0,readOnly:!0,hideLimitLabels:!0,autoHideLimitLabels:!0,disabled:!0,getSelectionBarColor:function(){return"White"},getPointerColor:function(){return"rgb(38,175,61)"},ceil:24,draggableRange:!1}};try{t.slider1.options.readOnly=t.currentprofile.admiadmin;t.slider1.options.disabled=t.currentprofile.admiadmin;t.slider2.options.readOnly=t.currentprofile.admiadmin;t.slider2.options.disabled=t.currentprofile.admiadmin;t.slider3.options.readOnly=t.currentprofile.admiadmin;t.slider3.options.disabled=t.currentprofile.admiadmin;t.slider4.options.readOnly=t.currentprofile.admiadmin;t.slider4.options.disabled=t.currentprofile.admiadmin;t.slider5.options.readOnly=t.currentprofile.admiadmin;t.slider5.options.disabled=t.currentprofile.admiadmin;t.slider6.options.readOnly=t.currentprofile.admiadmin;t.slider6.options.disabled=t.currentprofile.admiadmin;t.slider7.options.readOnly=t.currentprofile.admiadmin;t.slider7.options.disabled=t.currentprofile.admiadmin}catch(h){alert(h.message)}t.UpdateUser=function(n){r.UpdateProfile(n).then(function(){i.goBack()},function(n){alert(n.message)})};t.encodeImageUri=function(){for(var t=atob(dataURI.split(",")[1]),r=dataURI.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),u=new Uint8Array(i),n=0;n<t.length;n++)u[n]=t.charCodeAt(n);return new Blob([i],{type:r})};t.progress=0;t.uploading=!1;t.ChangePicture=function(){window.imagePicker.getPictures(function(n){var r=n[0],f=firebase.auth().currentUser,e=f.uid,u,i;t.uploading=!0;try{u=firebase.storage().ref();i=u.child("playerimages//"+e+"/"+r.name).put(r,{contentType:"image/jpeg"});i.on(firebase.storage.TaskEvent.STATE_CHANGED,function(n){t.progress=n.bytesTransferred/n.totalBytes*100;switch(n.state){case firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case firebase.storage.TaskState.RUNNING:console.log("Upload is running")}},function(n){switch(n.code){}t.$apply()},function(){var n=i.snapshot.downloadURL})}catch(o){alert(o.message)}},function(){})}});